package controllers

import play.api.mvc._
import scala.collection.mutable._
import models._
import play.api.data._
import play.api.data.Forms._

object Users extends Controller{
  
  val users: Map[String, User] = new HashMap

  def add = Action {
    Ok(views.html.users.add(form))
  }
  
  def save = Action { implicit request =>
    val user = form.bindFromRequest.get
    users.put(user.id.toString, user)
    Ok("User successfully created!")
  }
  
  def list = Action {
    Ok()
  }
  
  val form = Form(
    mapping(
      "username" -> text,
      "email" -> text)(User.apply)(User.unapply))
  
}